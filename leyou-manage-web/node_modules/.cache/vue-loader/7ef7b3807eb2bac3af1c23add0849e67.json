{"remainingRequest":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\develop\\idea-projects\\leyou-manage-web\\src\\components\\tree\\Tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\src\\components\\tree\\Tree.vue","mtime":1527327894895},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TreeItem from './TreeItem';\n\nexport default {\n  name: \"vTree\",\n  props: {\n    url: String,\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    treeData:{\n      type:Array\n    }\n  },\n  data() {\n    return {\n      db: [],\n      nodes:{\n        opened:null,\n        selected:{isSelected:false}\n      }\n    }\n  },\n  components: {\n    TreeItem\n  },\n  created() {\n    if(this.treeData && this.treeData.length > 0){\n      this.db = this.treeData;\n      return;\n    }\n    this.getData();\n  },\n  methods: {\n    getData() {\n      this.$http.get(this.url, {params: {pid: 0}}).then(resp => {\n        this.db = resp.data;\n        this.db.forEach(n => n['path'] = [n.name])\n      })\n    },\n    handleAdd(node) {\n      this.$emit(\"handleAdd\", this.copyNodeInfo(node));\n    },\n    handleEdit(id, name) {\n      this.$emit(\"handleEdit\", id, name)\n    },\n    handleDelete(id) {\n      this.deleteById(id, this.db);\n      this.$emit(\"handleDelete\", id);\n    },\n    handleClick(node){\n      this.$emit(\"handleClick\", this.copyNodeInfo(node))\n    },\n    // 根据id删除\n    deleteById(id, arr) {\n      let src = arr || this.db;\n      for (let i in src) {\n        let d = src[i];\n        if (d.id === id) {\n          src.splice(i, 1)\n          return;\n        }\n        if (d.children && d.children.length > 0) {\n          this.deleteById(id, d.children)\n        }\n      }\n    },\n    copyNodeInfo(node){\n      const o = {};\n      for(let i in node){\n        o[i] = node[i];\n      }\n      return o;\n    }\n  },\n  watch: {}\n}\n",{"version":3,"sources":["Tree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tree.vue","sourceRoot":"src/components/tree","sourcesContent":["<template>\n  <v-list class=\"pt-0 pb-0\" dense>\n    <TreeItem\n      class=\"item\" :model=\"model\" v-for=\"(model, index) in db\" :key=\"index\"\n      :url=\"url\"\n      :isEdit=\"isEdit\"\n      :nodes=\"nodes\"\n      @handleAdd=\"handleAdd\"\n      @handleEdit=\"handleEdit\"\n      @handleDelete=\"handleDelete\"\n      @handleClick=\"handleClick\"\n    />\n  </v-list>\n</template>\n\n<script>\n  import TreeItem from './TreeItem';\n\n  export default {\n    name: \"vTree\",\n    props: {\n      url: String,\n      isEdit: {\n        type: Boolean,\n        default: false\n      },\n      treeData:{\n        type:Array\n      }\n    },\n    data() {\n      return {\n        db: [],\n        nodes:{\n          opened:null,\n          selected:{isSelected:false}\n        }\n      }\n    },\n    components: {\n      TreeItem\n    },\n    created() {\n      if(this.treeData && this.treeData.length > 0){\n        this.db = this.treeData;\n        return;\n      }\n      this.getData();\n    },\n    methods: {\n      getData() {\n        this.$http.get(this.url, {params: {pid: 0}}).then(resp => {\n          this.db = resp.data;\n          this.db.forEach(n => n['path'] = [n.name])\n        })\n      },\n      handleAdd(node) {\n        this.$emit(\"handleAdd\", this.copyNodeInfo(node));\n      },\n      handleEdit(id, name) {\n        this.$emit(\"handleEdit\", id, name)\n      },\n      handleDelete(id) {\n        this.deleteById(id, this.db);\n        this.$emit(\"handleDelete\", id);\n      },\n      handleClick(node){\n        this.$emit(\"handleClick\", this.copyNodeInfo(node))\n      },\n      // 根据id删除\n      deleteById(id, arr) {\n        let src = arr || this.db;\n        for (let i in src) {\n          let d = src[i];\n          if (d.id === id) {\n            src.splice(i, 1)\n            return;\n          }\n          if (d.children && d.children.length > 0) {\n            this.deleteById(id, d.children)\n          }\n        }\n      },\n      copyNodeInfo(node){\n        const o = {};\n        for(let i in node){\n          o[i] = node[i];\n        }\n        return o;\n      }\n    },\n    watch: {}\n  }\n</script>\n\n<style scoped>\n  .item {\n    cursor: pointer;\n  }\n</style>\n"]}]}