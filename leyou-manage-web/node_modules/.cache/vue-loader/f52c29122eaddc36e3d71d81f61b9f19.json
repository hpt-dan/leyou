{"remainingRequest":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\develop\\idea-projects\\leyou-manage-web\\src\\views\\item\\specification\\SpecGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\src\\views\\item\\specification\\SpecGroup.vue","mtime":1552660234086},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\idea-projects\\leyou-manage-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"spec-group\",\n  props: {\n    cid: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      groups: [], // 当前分类下的规格组的集合\n      headers: [\n        {text: \"id\", value: \"id\", align: \"center\", sortable: false},\n        {text: \"组名\", value: \"name\", align: \"center\", sortable: false},\n        {text: \"操作\", align: \"center\", sortable: false}\n      ],\n      show: false, // 是否打开编辑窗口\n      group: {name: ''},\n      isEdit: false, // 是否是编辑\n    };\n  },\n  watch: {\n    cid() {\n      this.loadData();\n    }\n  },\n  methods: {\n    loadData() {\n      this.$http.get(\"/item/spec/groups/of/category/?id=\" + this.cid)\n        .then(({data}) => {\n          this.groups = data;\n        })\n        .catch(() => {\n          this.groups = [];\n        })\n    },\n    editGroup(group) {\n      Object.assign(this.group, group);\n      this.show = true;\n      this.isEdit = true;\n    },\n    addGroup() {\n      this.group = {cid: this.cid};\n      this.show = true;\n      this.isEdit = false;\n    },\n    save() {\n      this.$http({\n        method: this.isEdit ? 'put' : 'post',\n        url: '/item/spec/group',\n        data: this.group\n      }).then(() => {\n        // 关闭窗口\n        this.show = false;\n        this.$message.success(\"保存成功！\");\n        this.loadData();\n      }).catch(() => {\n        this.$message.error(\"保存失败！\");\n      });\n    },\n    deleteGroup(id) {\n      this.$message.confirm(\"确认要删除分组吗？\")\n        .then(() => {\n          this.$http.delete(\"/item/spec/group/\" + id)\n            .then(() => {\n              this.$message.success(\"删除成功\");\n              this.loadData();\n            })\n        })\n    },\n    selectGroup(group) {\n      this.$emit(\"select\", group);\n    }\n  }\n};\n",{"version":3,"sources":["SpecGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpecGroup.vue","sourceRoot":"src/views/item/specification","sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"groups\"\n      hide-actions\n      class=\"elevation-0\"\n    >\n      <template slot=\"items\" slot-scope=\"props\">\n\n            <tr @click=\"selectGroup(props.item)\">\n              <td class=\"text-xs-center\">{{ props.item.id }}</td>\n              <td class=\"text-xs-center\">{{ props.item.name }}</td>\n              <td class=\"justify-center layout px-0\">\n                <v-btn icon @click.stop=\"editGroup(props.item)\">\n                  <i class=\"el-icon-edit\"/>\n                </v-btn>\n                <v-btn icon @click.stop=\"deleteGroup(props.item.id)\">\n                  <i class=\"el-icon-delete\"/>\n                </v-btn>\n              </td>\n            </tr>\n\n      </template>\n      <template slot=\"no-data\">\n        该分类下暂无规格组或尚未选择分类\n      </template>\n    </v-data-table>\n\n    <v-btn color='primary' @click=\"addGroup\">新增分组</v-btn>\n    <v-dialog v-model=\"show\" width=\"300\" height=\"200\">\n      <v-card>\n        <v-card-text>\n          <v-text-field label=\"分组名称：\" v-model=\"group.name\"/>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer/>\n          <v-btn color=\"blue darken-1\" flat @click.native=\"show=false\">取消</v-btn>\n          <v-btn color=\"blue darken-1\" flat @click.native=\"save\">保存</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"spec-group\",\n    props: {\n      cid: {\n        type: Number,\n        default: 0,\n      },\n    },\n    data() {\n      return {\n        groups: [], // 当前分类下的规格组的集合\n        headers: [\n          {text: \"id\", value: \"id\", align: \"center\", sortable: false},\n          {text: \"组名\", value: \"name\", align: \"center\", sortable: false},\n          {text: \"操作\", align: \"center\", sortable: false}\n        ],\n        show: false, // 是否打开编辑窗口\n        group: {name: ''},\n        isEdit: false, // 是否是编辑\n      };\n    },\n    watch: {\n      cid() {\n        this.loadData();\n      }\n    },\n    methods: {\n      loadData() {\n        this.$http.get(\"/item/spec/groups/of/category/?id=\" + this.cid)\n          .then(({data}) => {\n            this.groups = data;\n          })\n          .catch(() => {\n            this.groups = [];\n          })\n      },\n      editGroup(group) {\n        Object.assign(this.group, group);\n        this.show = true;\n        this.isEdit = true;\n      },\n      addGroup() {\n        this.group = {cid: this.cid};\n        this.show = true;\n        this.isEdit = false;\n      },\n      save() {\n        this.$http({\n          method: this.isEdit ? 'put' : 'post',\n          url: '/item/spec/group',\n          data: this.group\n        }).then(() => {\n          // 关闭窗口\n          this.show = false;\n          this.$message.success(\"保存成功！\");\n          this.loadData();\n        }).catch(() => {\n          this.$message.error(\"保存失败！\");\n        });\n      },\n      deleteGroup(id) {\n        this.$message.confirm(\"确认要删除分组吗？\")\n          .then(() => {\n            this.$http.delete(\"/item/spec/group/\" + id)\n              .then(() => {\n                this.$message.success(\"删除成功\");\n                this.loadData();\n              })\n          })\n      },\n      selectGroup(group) {\n        this.$emit(\"select\", group);\n      }\n    }\n  };\n</script>\n"]}]}